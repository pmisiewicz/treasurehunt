const $=Math.sqrt(3),nt=.5*($-1),O=(3-$)/6,et=1/3,S=1/6,X=o=>Math.floor(o)|0,V=new Float64Array([1,1,-1,1,1,-1,-1,-1,1,0,-1,0,1,0,-1,0,0,1,0,-1,0,1,0,-1]),K=new Float64Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]);function ot(o=Math.random){const t=tt(o),e=new Float64Array(t).map(m=>V[m%12*2]),n=new Float64Array(t).map(m=>V[m%12*2+1]);return function(d,b){let D=0,M=0,j=0;const z=(d+b)*nt,F=X(d+z),A=X(b+z),G=(F+A)*O,P=F-G,R=A-G,p=d-P,y=b-R;let k,N;p>y?(k=1,N=0):(k=0,N=1);const U=p-k+O,u=y-N+O,f=p-1+2*O,c=y-1+2*O,g=F&255,h=A&255;let i=.5-p*p-y*y;if(i>=0){const s=g+t[h],w=e[s],x=n[s];i*=i,D=i*i*(w*p+x*y)}let l=.5-U*U-u*u;if(l>=0){const s=g+k+t[h+N],w=e[s],x=n[s];l*=l,M=l*l*(w*U+x*u)}let a=.5-f*f-c*c;if(a>=0){const s=g+1+t[h+1],w=e[s],x=n[s];a*=a,j=a*a*(w*f+x*c)}return 70*(D+M+j)}}function st(o=Math.random){const t=tt(o),e=new Float64Array(t).map(d=>K[d%12*3]),n=new Float64Array(t).map(d=>K[d%12*3+1]),m=new Float64Array(t).map(d=>K[d%12*3+2]);return function(b,D,M){let j,z,F,A;const G=(b+D+M)*et,P=X(b+G),R=X(D+G),p=X(M+G),y=(P+R+p)*S,k=P-y,N=R-y,U=p-y,u=b-k,f=D-N,c=M-U;let g,h,i,l,a,s;u>=f?f>=c?(g=1,h=0,i=0,l=1,a=1,s=0):u>=c?(g=1,h=0,i=0,l=1,a=0,s=1):(g=0,h=0,i=1,l=1,a=0,s=1):f<c?(g=0,h=0,i=1,l=0,a=1,s=1):u<c?(g=0,h=1,i=0,l=0,a=1,s=1):(g=0,h=1,i=0,l=1,a=1,s=0);const w=u-g+S,x=f-h+S,L=c-i+S,Q=u-l+2*S,Z=f-a+2*S,B=c-s+2*S,H=u-1+3*S,I=f-1+3*S,J=c-1+3*S,Y=P&255,q=R&255,C=p&255;let T=.6-u*u-f*f-c*c;if(T<0)j=0;else{const r=Y+t[q+t[C]];T*=T,j=T*T*(e[r]*u+n[r]*f+m[r]*c)}let _=.6-w*w-x*x-L*L;if(_<0)z=0;else{const r=Y+g+t[q+h+t[C+i]];_*=_,z=_*_*(e[r]*w+n[r]*x+m[r]*L)}let v=.6-Q*Q-Z*Z-B*B;if(v<0)F=0;else{const r=Y+l+t[q+a+t[C+s]];v*=v,F=v*v*(e[r]*Q+n[r]*Z+m[r]*B)}let E=.6-H*H-I*I-J*J;if(E<0)A=0;else{const r=Y+1+t[q+1+t[C+1]];E*=E,A=E*E*(e[r]*H+n[r]*I+m[r]*J)}return 32*(j+z+F+A)}}function tt(o){const e=new Uint8Array(512);for(let n=0;n<512/2;n++)e[n]=n;for(let n=0;n<512/2-1;n++){const m=n+~~(o()*(256-n)),d=e[n];e[n]=e[m],e[m]=d}for(let n=256;n<512;n++)e[n]=e[n-256];return e}function rt(o){return function(){let t=o+=1831565813;return t=Math.imul(t^t>>>15,t|1),t^=t+Math.imul(t^t>>>7,t|61),((t^t>>>14)>>>0)/4294967296}}function W(o){let t=2166136261;for(let e=0;e<o.length;e++)t^=o.charCodeAt(e),t=Math.imul(t,16777619)>>>0;return t>>>0}function ct(){try{if(typeof window<"u"){const t=new URLSearchParams(window.location.search).get("seed");if(t!=null){const n=Number(t);return Number.isFinite(n)?n>>>0:W(t)}const e=window.__RANDOM_SEED;if(e!=null)return typeof e=="number"?e>>>0:W(String(e))}}catch(o){console.log(o)}return null}function it(){const o=ct();return o!=null?o>>>0:Math.floor(Math.random()*4294967295)>>>0}class at{rng;simplex2D;simplex3D;constructor(t){this.rng=rt(t),this.simplex2D=ot(this.rng),this.simplex3D=st(this.rng)}random(){return this.rng()}}let lt=it();function ut(){return lt}export{at as RandomProvider,lt as currentSeed,ut as getSeed};
